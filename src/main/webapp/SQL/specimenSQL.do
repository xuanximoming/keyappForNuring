#
#Sun Oct 15 22:24:59 CST 2017
SQL=SELECT A.patient_id brid,\r\n       a.visit_id zyid,\r\n       A.TEST_NO TEST_NO_SRC,\r\n       substr((select c.item_name\r\n                from LAB_TEST_ITEMS c\r\n               where a.test_no \= c.test_no\r\n                 and c.item_no \= 1),\r\n              1,\r\n              10) || ' ç­‰' testname,\r\n       A.SPECIMEN ybname,\r\n       B.GATHER_NURSE cjname,\r\n       B.GATHER_TIME cjtime,\r\n       decode(b.act, NULL, 0, b.act) AS caiok,\r\n       decode(decode(b.act, NULL, 0, to_number(b.act)),\r\n              0,\r\n              '\#ff6600',\r\n              1,\r\n              '\#07ac03',\r\n              2,\r\n              '\#00ff00',\r\n              '\#000000') AS color\r\n  FROM LAB_TEST_MASTER A, SPECIMENT_FLOW_REC B\r\n WHERE A.patient_id \= '%s'\r\n   AND A.visit_id \= %s\r\n   AND A.TEST_NO \= B.TEST_NO(+)\r\n ORDER BY cjtime DESC, A.test_no ASC\r\n
